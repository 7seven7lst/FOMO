
<div data-ng-init="getEvent()" class="col-md-12" id='event-container'>
  <span class="col-md-10">
    <img src="http://blogs-images.forbes.com/hughmcintyre/files/2015/01/coachella-logo-big.jpg"/>

    <h1>{{data.event_title}}</h1>

<!--     <form novalidate name="dateForm" class="form-block" role="form">
      <textarea name="info" ng-model="data.date" ></textarea>
      <input type="submit" class="btn btn-primary" ng-click="submitDate()">
    </form> -->

    <div class="row">
      <h3 class="col-md-4">{{data.event_date | date}} {{data.event_time | date: 'h:mm a'}}</h3>
      <form ng-show="editDate" novalidate name="dateForm" class="form-block" role="form">
        <input type="date" id="add-notify-date" name="input" ng-model="data.event_date" ng-required='event.eventtime'/>
        <input type="time" id="add-event-time" name="input" ng-model="data.event_time"/>
        <input type="submit" class="btn btn-primary col-md-2" ng-click="submitNewDate()">
      </form>
      <button id='editbtn' class="btn btn-default col-md-2" ng-click="setEditAttribute('Date', !editDate)">Edit date</button>
      <button ng-show="editDate" class="btn btn-default col-md-2" ng-click="setEditAttribute('Date', !editDate)" class="ng-hide">Cancel</button>
    </div>

    <div class="row">
      <p class="col-md-10">{{data.event_info}}</p>
      <button  id='editbtn' class="btn btn-default col-md-2" ng-click="setEditAttribute('Info', !editInfo)">Edit info</button>
    </div>
    <div>
      <form class="row" ng-show="editInfo" novalidate name="infoForm" class="form-block" role="form">
        <textarea name="info" ng-model="data.event_info" ng-minlength="1" class="col-md-2"></textarea>
        <input type="submit" class="btn btn-primary col-md-2" ng-click="submitInfo()">
      </form>
    </div>

    <a href="http://{{data.event_link}}" target="_blank">{{data.event_link}}</a>

    <!-- <p>Tags:<span ng-repeat='tag in test.tags'>{{$first ? ' ' : ', '}}{{tag}}</span></p> --> <!-- todo: add tags -->
<!-- http://stackoverflow.com/questions/26926345/angularjs-ng-repeat-add-comma-separated-and-and-before-last-item -->
    <h3 class="row"> --------------------------- Notifications --------------------------- </h3>
    <p ng-show="data.notification_info">{{data.notification_info}}</p>
    <p ng-show="data.notification_info">On: {{data.notification_date | date}}, {{data.notification_time}}</p>
    <p ng-show="!data.notification_info">No notifications yet â€“ edit event to add one</p>

    <button ng-if="!data.subscribed" class="btn btn-default navbar-btn" ng-click="subscribe()" notype="submit" >Subscribe!</button>

    <button ng-if="data.subscribed" class="btn btn-default navbar-btn" ng-click="unsubscribe()" notype="submit" >Unsubscribe!</button>

    <button class="btn btn-default navbar-btn"  class="ng-hide" ng-click="triggerEvent()" notype="submit">Trigger Notification</button>
  </span>

</div>
